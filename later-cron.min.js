((function(){"use strict";var a=function(a,b){var c=b||!1,d="get"+(c?"":"UTC"),e=!0,f=a||1,g=864e5,h=Math.ceil,i=Math.floor,j=Date.prototype,k=j[d+"FullYear"],l=j[d+"Month"],m=j[d+"Date"],n=j[d+"Day"],o=j[d+"Hours"],p=j[d+"Minutes"],q=j[d+"Seconds"],r=function(a,b,c){var d,e,f=b[0],g=b.length;while(g--){d=b[g];if(d===a)return a;f=d<f?d:f,e=d>a&&(!e||d<e)?d:e}return e||f+c},s=function(a,b,d,e,f,g){return c?new Date(a,b,d,e||0,f||0,g||0):new Date(Date.UTC(a,b,d,e||0,f||0,g||0))},t=function(a){return(a<10?"0":"")+a},u=function(a,b,c){var d=b,e,f,j,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S=1e3;while(d&&S--){if(c&&d.getTime()>c.getTime())return null;u=k.call(d);if(a.Y&&(e=r(u,a.Y,0))!==u){d=e>u?s(e,0,1):null;continue}B=s(u,0,1),G=s(u+1,0,0);if(a.dy){I=h((d.getTime()-B.getTime()+1)/g),M=h((G.getTime()-B.getTime()+1)/g);if((e=r(I,a.dy,M))!==I){d=s(u,0,e);continue}}v=l.call(d);if(a.M&&(e=r(v+1,a.M,12))!==v+1){d=s(u,e-1,1);continue}w=m.call(d),x=n.call(d);if(a.wy){D=s(u,v,w+4-(x||7)),E=s(k.call(D),0,1),Q=n.call(B)===4||n.call(G)===4?53:52,J=h(((D.getTime()-E.getTime())/g+1)/7);if((e=r(J,a.wy,Q))!==J){d=s(k.call(D),l.call(D),m.call(D)-3+(e-J)*7);continue}}F=s(u,v+1,0),N=m.call(F);if(a.D&&(e=r(w,a.D,N))!==w){d=s(u,v,e);continue}if(a.wm){O=n.call(s(u,v,1)),K=i((w+O-1)/7+1),R=i((N+O-1)/7+1);if((e=r(K,a.wm,R))!==K){d=s(u,v,(e-1)*7-(O-1)-(e>R&&n.call(F)<6?7:0)+(e===R+1?n.call(F)+1:0));continue}}if(a.d&&(e=r(x+1,a.d,7))!==x+1){d=s(u,v,w+(e-1)-x);continue}if(a.dc){L=i((w-1)/7)+1;if((e=r(L,a.dc,0))!==L){if(e>0){d=s(u,v+(e<L?1:0),1+7*(e-1));continue}if(e<1&&w<N-6){d=s(u,v,N-6);continue}}}y=o.call(d);if(a.h&&(e=r(y,a.h,24))!==y){d=s(u,v,w,e);continue}z=p.call(d);if(a.m&&(e=r(z,a.m,60))!==z){d=s(u,v,w,y,e);continue}A=q.call(d);if(a.s&&(e=r(A,a.s,60))!==A){d.setSeconds(e),d=s(u,v,w,y,z,e);continue}if(a.t){H=t(y)+":"+t(z)+":"+t(A);if((e=r(H,a.t,""))!==H){f=e.split(":"),d=s(u,v,w+(H>e?1:0),f[0],f[1],f[2]);continue}}break}return S>0?d:null},v=function(a){return new Date(a.getTime()+f*1e3)};return{isValid:function(a,b){return b.getTime()===this.getNext(a,b).getTime()},get:function(a,b,c,d){var e=[],f;while(b-->0&&(f=this.getNext(a,f||c,d)))e.push(f),f=v(f);return e},getNext:function(a,b,c){var d=a.schedules||[],e={schedules:a.exceptions||[]},f=b||new Date,g,h,i=d.length;if(c&&b.getTime()>c.getTime())return null;while(i--){h=u(d[i],f,c);if(!g||h<g)g=h}return g&&e.schedules.length>0&&this.isValid(e,g)&&(g=this.getNext(a,v(g))),g},exec:function(a,b,c,d){var f=this.getNext(a,v(b));if(f)return f=f.getTime()-(new Date).getTime(),e=setTimeout(this.handleExec,f,this,a,c,d),!0},stopExec:function(){e&&(clearTimeout(e),e=!1)},handleExec:function(a,b,c,d){c(d),e&&a.exec(b,new Date,c,d)}}},b=typeof exports!="undefined"&&exports!==null?exports:window;b.later=a})).call(this),function(){"use strict";var a=function(){var a={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12,SUN:1,MON:2,TUE:3,WED:4,THU:5,FRI:6,SAT:7},b={s:[0,0,59],m:[1,0,59],h:[2,0,23],D:[3,1,31],M:[4,1,12],Y:[6,1970,2099],d:[5,1,7,1]},c=function(b,c){return isNaN(b)?a[b]:+b+(c||0)},d=function(a){var b={},c;for(c in a)c!=="dc"&&c!=="d"&&(b[c]=a[c].slice(0));return b},e=function(a,b,c,d,e){var f=c;a[b]||(a[b]=[]);while(f<=d)a[b].indexOf(f)<0&&a[b].push(f),f+=e||1},f=function(a,b,c,f){if(b.d&&!b.dc||b.dc&&b.dc.indexOf(f)<0)a.push(d(b)),b=a[a.length-1];e(b,"d",c,c),e(b,"dc",f,f)},g=function(b,c,d){var f={},g={};d===1?(e(c,"D",1,3),e(c,"d",a.MON,a.FRI),e(f,"D",2,2),e(f,"d",a.TUE,a.FRI),e(g,"D",3,3),e(g,"d",a.TUE,a.FRI)):(e(c,"D",d-1,d+1),e(c,"d",a.MON,a.FRI),e(f,"D",d-1,d-1),e(f,"d",a.MON,a.THU),e(g,"D",d+1,d+1),e(g,"d",a.TUE,a.FRI)),b.exceptions.push(f),b.exceptions.push(g)},h=function(a,b,d,f,g,h){var i=a.split("/"),j=+i[1],k=i[0];if(k!=="*"&&k!=="0"){var l=k.split("-");f=c(l[0],h),g=c(l[1],h)}e(b,d,f,g,j)},i=function(a,b,d,i,j,k){var l,m,n=b.schedules,o=n[n.length-1];a==="L"&&(a=i-1),(l=c(a,k))!=null?e(o,d,l,l):(l=c(a.replace("W",""),k))!=null?g(b,o,l):(l=c(a.replace("L",""),k))!=null?f(n,o,l,i-1):(m=a.split("#")).length===2?(l=c(m[0],k),f(n,o,l,c(m[1]))):h(a,o,d,i,j,k)},j=function(a){return a.indexOf("#")>-1||a.indexOf("L")>0},k=function(a,b){return j(a)&&!j(b)?1:0},l=function(a){var c={schedules:[{}],exceptions:[]},d=a.split(" "),e,f,g,h;for(e in b){f=b[e],g=d[f[0]];if(g&&g!=="*"&&g!=="?"){h=g.split(",").sort(k);var j,l=h.length;for(j=0;j<l;j++)i(h[j],c,e,f[1],f[2],f[3])}}return c};return{parse:function(a,b){var c=a.toUpperCase();return l(b?c:"0 "+c)}}},b=typeof exports!="undefined"&&exports!==null?exports:window;b.cronParser=a}.call(this);